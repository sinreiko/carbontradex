{"ast":null,"code":"import Web3 from 'web3';\nconst getWeb3 = async () => {\n  if (window.ethereum) {\n    const web3 = new Web3(window.ethereum);\n    console.log(web3);\n    try {\n      // Request account access using eth_requestAccounts\n      window.ethereum.enable();\n      // Request account access if not already authorized\n      const accounts = await window.ethereum.request({\n        method: 'eth_requestAccounts'\n      });\n      console.log(accounts);\n      console.log('test');\n      return accounts;\n    } catch (error) {\n      throw new Error('User denied account access');\n    }\n  } else if (window.web3) {\n    const web3 = new Web3(window.web3.currentProvider);\n    const accounts = await web3.eth.getAccounts();\n    console.log('test');\n  } else {\n    // Non-dapp browsers or no web3 provider\n    throw new Error('No web3 provider detected. Please install MetaMask or use a dapp browser.');\n  }\n};\nexport default getWeb3;","map":{"version":3,"names":["Web3","getWeb3","window","ethereum","web3","console","log","enable","accounts","request","method","error","Error","currentProvider","eth","getAccounts"],"sources":["/Applications/MAMP/htdocs/carbontradex/frontend/src/utils/getWeb3.js"],"sourcesContent":["import Web3 from 'web3';\n\nconst getWeb3 = async () => {\n    if (window.ethereum) {\n        const web3 = new Web3(window.ethereum);\n        console.log(web3);\n        try {\n            // Request account access using eth_requestAccounts\n            window.ethereum.enable();\n            // Request account access if not already authorized\n            const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n            console.log(accounts);\n            console.log('test')\n            return accounts;\n        } catch (error) {\n            throw new Error('User denied account access');\n        }\n    } else if (window.web3) {\n        const web3 = new Web3(window.web3.currentProvider);\n        const accounts = await web3.eth.getAccounts();\n        console.log('test')\n\n\n    } else {\n        // Non-dapp browsers or no web3 provider\n        throw new Error('No web3 provider detected. Please install MetaMask or use a dapp browser.');\n    }\n};\nexport default getWeb3;\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,MAAM;AAEvB,MAAMC,OAAO,GAAG,MAAAA,CAAA,KAAY;EACxB,IAAIC,MAAM,CAACC,QAAQ,EAAE;IACjB,MAAMC,IAAI,GAAG,IAAIJ,IAAI,CAACE,MAAM,CAACC,QAAQ,CAAC;IACtCE,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;IACjB,IAAI;MACA;MACAF,MAAM,CAACC,QAAQ,CAACI,MAAM,CAAC,CAAC;MACxB;MACA,MAAMC,QAAQ,GAAG,MAAMN,MAAM,CAACC,QAAQ,CAACM,OAAO,CAAC;QAAEC,MAAM,EAAE;MAAsB,CAAC,CAAC;MACjFL,OAAO,CAACC,GAAG,CAACE,QAAQ,CAAC;MACrBH,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;MACnB,OAAOE,QAAQ;IACnB,CAAC,CAAC,OAAOG,KAAK,EAAE;MACZ,MAAM,IAAIC,KAAK,CAAC,4BAA4B,CAAC;IACjD;EACJ,CAAC,MAAM,IAAIV,MAAM,CAACE,IAAI,EAAE;IACpB,MAAMA,IAAI,GAAG,IAAIJ,IAAI,CAACE,MAAM,CAACE,IAAI,CAACS,eAAe,CAAC;IAClD,MAAML,QAAQ,GAAG,MAAMJ,IAAI,CAACU,GAAG,CAACC,WAAW,CAAC,CAAC;IAC7CV,OAAO,CAACC,GAAG,CAAC,MAAM,CAAC;EAGvB,CAAC,MAAM;IACH;IACA,MAAM,IAAIM,KAAK,CAAC,2EAA2E,CAAC;EAChG;AACJ,CAAC;AACD,eAAeX,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}